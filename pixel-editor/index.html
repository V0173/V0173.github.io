<html>
<head>
<meta charset="Windows-1251">
</head>
<body>
<center>
<table id="drawfield" border="0" cellpadding="0" cellspacing="0">
</table>
<br>
<table id="pencolors" border="1" cellpadding="0" cellspacing="0">
</table>
</center>
</body>

<script>
var field=document.getElementById('drawfield');
var pallete=document.getElementById('pencolors');

var colors=['red','orange','yellow',
'green','blue','cyan',
'magenta','white',
'lightgrey','grey','black'];
var fieldWidth=40;
var fieldHeight=30;
var cellSize=10;
var penColor='red';
var backColor='lightgrey';

for (var y=0; y<fieldHeight*cellSize; y+=cellSize) {
	var line='';
	for (var x=0; x<fieldWidth*cellSize; x+=cellSize) {
		line+='<td class="field"></td>';
	}
	field.innerHTML+='<tr>'+line+'</tr>';
}

var line='';
for (var i=0; i<colors.length; i++) {
	line+='<td class="pallete" style="background: '+colors[i]+'"></td>';
}
pallete.innerHTML='<tr>'+line+'</tr>';

getCell();
getColor();

function getCell() {
var cell=document.getElementsByClassName('field');
for (var i=0; i<cell.length; i++) {
	cell[i].onmouseover=function() {
		backColor=this.style.background;
		this.style.background=penColor;
	}
	cell[i].onmouseout=function() {
		this.style.background=backColor;
	}
	cell[i].onclick=function() {
		backColor=penColor;
	}
}
}

function getColor() {
	var currentColor=document.getElementsByClassName('pallete');
	for (var j=0; j<currentColor.length; j++) {
		currentColor[j].onclick=function() {
			penColor=this.style.background;
		}
	}
}

</script>

<style>

td.field {
	background: lightgrey;
	width: 10px;
	height: 10px;
}

td.pallete {
	width: 40px;
	height: 40px;
}
</style

</html>
